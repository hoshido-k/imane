# Firebaseç’°å¢ƒè¨­å®šã‚¬ã‚¤ãƒ‰

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€imaneã®é–‹ç™ºç’°å¢ƒã¨æœ¬ç•ªç’°å¢ƒç”¨ã®Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¨­å®šã™ã‚‹æ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“‹ æ¦‚è¦

imaneã§ã¯ã€ä»¥ä¸‹ã®2ã¤ã®Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

- **imane-dev-xxxxx** â†’ é–‹ç™ºç’°å¢ƒ
- **imane-prod-xxxxx** â†’ æœ¬ç•ªç’°å¢ƒ

---

## ğŸ”§ Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ

### å¿…è¦ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

1. **é–‹ç™ºç’°å¢ƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: imane-dev
2. **æœ¬ç•ªç’°å¢ƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: imane-production

### ä½œæˆæ‰‹é †

1. [Firebase Console](https://console.firebase.google.com/)ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›
4. ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯

ä¸¡æ–¹ã®ç’°å¢ƒã§åŒã˜è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚

---

## ğŸ”¥ Firebase CLIè¨­å®šã¨ãƒ‡ãƒ—ãƒ­ã‚¤

### 1. Firebase CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install -g firebase-tools
firebase login
```

### 2. Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¿½åŠ 

```bash
cd backend

# é–‹ç™ºç’°å¢ƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ 
firebase use --add
# â†’ é–‹ç™ºç’°å¢ƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠ
# â†’ ã‚¨ã‚¤ãƒªã‚¢ã‚¹å: dev

# æœ¬ç•ªç’°å¢ƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ 
firebase use --add
# â†’ æœ¬ç•ªç’°å¢ƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠ
# â†’ ã‚¨ã‚¤ãƒªã‚¢ã‚¹å: prod
```

### 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# é–‹ç™ºç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤
firebase use dev
firebase deploy --only firestore:rules,firestore:indexes,storage

# æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤
firebase use prod
firebase deploy --only firestore:rules,firestore:indexes,storage
```

### 4. ãƒ‡ãƒ—ãƒ­ã‚¤å†…å®¹

ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ï¼š

- `firestore.rules` - Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«
- `firestore.indexes.json` - Firestoreè¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
- `storage.rules` - Firebase Storageã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«
- `firebase.json` - Firebaseè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

---

## ğŸ“‹ è¨­å®šãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### ä¸¡ç’°å¢ƒã§å¿…è¦ãªè¨­å®š

- [Ã—] Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [Ã—] Firebase CLIè¨­å®šï¼ˆ`firebase use --add`ï¼‰
- [Ã—] Firebase Authenticationæœ‰åŠ¹åŒ–ï¼ˆãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰
- [ ] Cloud Firestoreä½œæˆï¼ˆasia-northeast1æ¨å¥¨ï¼‰
- [ ] **Firestoreã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ï¼‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãƒ‡ãƒ—ãƒ­ã‚¤** â­ï¸
- [ ] Firebase Storageä½œæˆ
- [ ] Storageã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] Firebase Cloud Messagingè¨­å®š
- [ ] ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼å–å¾—
- [ ] iOSã‚¢ãƒ—ãƒªç™»éŒ²ï¼ˆGoogleService-Info.plistï¼‰
- [ ] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ.env.development / .env.productionï¼‰

è©³ç´°ã¯`ENVIRONMENT_SETUP.md`ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ğŸ” ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ç¢ºèªæ–¹æ³•

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€Firebase Consoleã§ç¢ºèªã§ãã¾ã™ï¼š

1. Firebase Console â†’ Firestore Database â†’ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
2. 20å€‹ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

ã‚¢ãƒ—ãƒªå®Ÿè¡Œä¸­ã«ã€Œã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒå¿…è¦ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸå ´åˆï¼š

1. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…ã®URLã‚’ã‚¯ãƒªãƒƒã‚¯
2. Firebase Consoleã§è‡ªå‹•çš„ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆç”»é¢ãŒé–‹ã
3. ã€Œä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯

---

**æœ€çµ‚æ›´æ–°æ—¥**: 2025-11-12
