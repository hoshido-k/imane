# imane æœ¬ç•ªç’°å¢ƒ Firebaseãƒ»Google Cloud è¨­å®šãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

**Version:** 1.0.0
**æœ€çµ‚æ›´æ–°:** 2025-11-13
**å¯¾è±¡:** æœ¬ç•ªç’°å¢ƒãƒªãƒªãƒ¼ã‚¹å‰ã®å¿…é ˆè¨­å®š

---

## ğŸ“‹ ç›®æ¬¡

1. [Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š](#1-firebase-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š)
2. [Google Cloud Platform API æœ‰åŠ¹åŒ–](#2-google-cloud-platform-api-æœ‰åŠ¹åŒ–)
3. [Firebase Authentication è¨­å®š](#3-firebase-authentication-è¨­å®š)
4. [Cloud Firestore è¨­å®š](#4-cloud-firestore-è¨­å®š)
5. [Firebase Storage è¨­å®š](#5-firebase-storage-è¨­å®š)
6. [Firebase Cloud Messaging (FCM) è¨­å®š](#6-firebase-cloud-messaging-fcm-è¨­å®š)
7. [Firebase Analytics è¨­å®š](#7-firebase-analytics-è¨­å®š)
8. [Firebase Crashlytics è¨­å®š](#8-firebase-crashlytics-è¨­å®š)
9. [Google Maps Platform è¨­å®š](#9-google-maps-platform-è¨­å®š)
10. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡](#10-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡)
11. [èª²é‡‘ã¨ã‚¯ã‚©ãƒ¼ã‚¿è¨­å®š](#11-èª²é‡‘ã¨ã‚¯ã‚©ãƒ¼ã‚¿è¨­å®š)
12. [ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¨ã‚¢ãƒ©ãƒ¼ãƒˆ](#12-ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¨ã‚¢ãƒ©ãƒ¼ãƒˆ)

---

## 1. Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š

### 1.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

- [Ã—] Firebase Console (https://console.firebase.google.com/) ã«ã‚¢ã‚¯ã‚»ã‚¹
- [Ã—] ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿½åŠ ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
- [Ã—] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå: `imane-production` ã¾ãŸã¯ `imane-prod`
- [Ã—] Google Analytics ã‚’æœ‰åŠ¹åŒ–ï¼ˆæ¨å¥¨ï¼‰
- [Ã—] ãƒªãƒ¼ã‚¸ãƒ§ãƒ³: `asia-northeast1` (æ±äº¬) ã‚’é¸æŠ

### 1.2 iOSã‚¢ãƒ—ãƒªã®ç™»éŒ²

- [Ã—] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š > ã‚¢ãƒ—ãƒªã‚’è¿½åŠ  > iOS
- [Ã—] **Bundle ID**: `com.imane.app` (æœ¬ç•ªç”¨)
  - âš ï¸ é–‹ç™ºç’°å¢ƒã¨åŒã˜Bundle IDã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€åŒã˜Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç®¡ç†
  - é–‹ç™ºç’°å¢ƒã¨åˆ†é›¢ã™ã‚‹å ´åˆã¯ã€ç•°ãªã‚‹Bundle IDã‚’ä½¿ç”¨ï¼ˆä¾‹: `com.imane.app.dev` / `com.imane.app`ï¼‰
- [Ã—] ã‚¢ãƒ—ãƒªã®ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ : `imane iOS (Production)`
- [Ã—] App Store ID: ï¼ˆApp Storeå…¬é–‹å¾Œã«è¿½åŠ ï¼‰
- [Ã—] `GoogleService-Info.plist` ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- [Ã—] `mobile/ios/Runner/GoogleService-Info-Prod.plist` ã«ä¿å­˜

### 1.3 ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã®å–å¾—

- [Ã—] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š > ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- [Ã—] ã€Œæ–°ã—ã„ç§˜å¯†éµã‚’ç”Ÿæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
- [Ã—] ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `backend/serviceAccountKey-prod.json` ã«é…ç½®
- [Ã—] ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’ `600` ã«è¨­å®š:
  ```bash
  chmod 600 backend/serviceAccountKey-prod.json
  ```

---

## 2. Google Cloud Platform API æœ‰åŠ¹åŒ–

### 2.1 Google Cloud Console ã‚¢ã‚¯ã‚»ã‚¹

- [Ã—] https://console.cloud.google.com/ ã«ã‚¢ã‚¯ã‚»ã‚¹
- [Ã—] Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç´ã¥ãGCPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠ

### 2.2 å¿…é ˆAPIã®æœ‰åŠ¹åŒ–

ä»¥ä¸‹ã®APIã‚’ã€ŒAPIã¨ã‚µãƒ¼ãƒ“ã‚¹ã€>ã€Œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ã‹ã‚‰æœ‰åŠ¹åŒ–:

#### ä½ç½®æƒ…å ±é–¢é€£API

- [Ã—] **Maps SDK for iOS**
  - ç”¨é€”: Google Mapsè¡¨ç¤ºï¼ˆç›®çš„åœ°é¸æŠã€åœ°å›³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰
  - ç”»é¢: `interactive_map_picker.dart`, ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è©³ç´°ç”»é¢
  - æ–™é‡‘: https://mapsplatform.google.com/pricing/

- [Ã—] **Geocoding API**
  - ç”¨é€”: ä½æ‰€â†’åº§æ¨™å¤‰æ›ã€åº§æ¨™â†’ä½æ‰€å¤‰æ›
  - ç”»é¢: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä½œæˆæ™‚ã®ä½æ‰€å…¥åŠ›
  - æ–™é‡‘: $5.00 per 1000 requests

- [Ã—] **Places API**
  - ç”¨é€”: å ´æ‰€ã®æ¤œç´¢ã€ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆ
  - ç”»é¢: ç›®çš„åœ°æ¤œç´¢æ™‚ã®å€™è£œè¡¨ç¤º
  - æ–™é‡‘: Place Autocomplete - $2.83 per 1000 requests

- [ ] **Geolocation API**
  - ç”¨é€”: Wi-Fi/ã‚»ãƒ«ã‚¿ãƒ¯ãƒ¼æƒ…å ±ã‹ã‚‰ä½ç½®æ¨å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  - æ–™é‡‘: $5.00 per 1000 requests

#### Firebaseé–¢é€£API

- [ ] **Cloud Firestore API**
  - ç”¨é€”: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹
  - è‡ªå‹•çš„ã«æœ‰åŠ¹åŒ–ã•ã‚Œã‚‹ãŒå¿µã®ãŸã‚ç¢ºèª

- [ ] **Firebase Cloud Messaging API**
  - ç”¨é€”: ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥é€ä¿¡
  - è‡ªå‹•çš„ã«æœ‰åŠ¹åŒ–ã•ã‚Œã‚‹ãŒå¿µã®ãŸã‚ç¢ºèª

- [ ] **Cloud Storage for Firebase API**
  - ç”¨é€”: ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã€ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒã®ä¿å­˜
  - è‡ªå‹•çš„ã«æœ‰åŠ¹åŒ–ã•ã‚Œã‚‹ãŒå¿µã®ãŸã‚ç¢ºèª

#### èªè¨¼é–¢é€£API

- [ ] **Identity Toolkit API**
  - ç”¨é€”: Firebase Authentication
  - è‡ªå‹•çš„ã«æœ‰åŠ¹åŒ–ã•ã‚Œã‚‹ãŒå¿µã®ãŸã‚ç¢ºèª

#### ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°é–¢é€£API

- [Ã—] **Cloud Logging API**
  - ç”¨é€”: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°ã®è¨˜éŒ²
  - æ¨å¥¨: æœ‰åŠ¹åŒ–

- [Ã—] **Cloud Monitoring API**
  - ç”¨é€”: ãƒ¡ãƒˆãƒªã‚¯ã‚¹ç›£è¦–ã€ã‚¢ãƒ©ãƒ¼ãƒˆ
  - æ¨å¥¨: æœ‰åŠ¹åŒ–

### 2.3 API ã‚­ãƒ¼ã®è¨­å®š

#### Google Maps API ã‚­ãƒ¼ã®ä½œæˆ

- [Ã—] Google Cloud Console > èªè¨¼æƒ…å ± > ã€Œèªè¨¼æƒ…å ±ã‚’ä½œæˆã€ > APIã‚­ãƒ¼
- [Ã—] ä½œæˆã—ãŸAPIã‚­ãƒ¼ã®åå‰ã‚’ `imane-maps-api-key-prod` ã«å¤‰æ›´
- [Ã—] ã€ŒAPIã‚­ãƒ¼ã‚’ç·¨é›†ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

**ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åˆ¶é™**:
- [Ã—] ã€ŒiOSã‚¢ãƒ—ãƒªã€ã‚’é¸æŠ
- [Ã—] Bundle ID ã‚’è¿½åŠ : `com.imane.app`

**APIã®åˆ¶é™**:
- [Ã—] ã€Œã‚­ãƒ¼ã‚’åˆ¶é™ã€ã‚’é¸æŠ
- [Ã—] ä»¥ä¸‹ã®APIã®ã¿ã‚’é¸æŠ:
  - Maps SDK for iOS
  - Geocoding API
  - Places API
  - Geolocation API (ä½¿ç”¨ã™ã‚‹å ´åˆ)

**Quotasï¼ˆã‚¯ã‚©ãƒ¼ã‚¿ï¼‰è¨­å®š**:
- [Ã—] å„APIã®ã‚¯ã‚©ãƒ¼ã‚¿ãƒšãƒ¼ã‚¸ã§ä½¿ç”¨é‡ä¸Šé™ã‚’è¨­å®šï¼ˆäºˆç®—ä¿è­·ï¼‰
  - ä¾‹: Maps SDK for iOS = 10,000 requests/day
  - ä¾‹: Geocoding API = 5,000 requests/day

---

## 3. Firebase Authentication è¨­å®š

### 3.1 èªè¨¼æ–¹æ³•ã®æœ‰åŠ¹åŒ–

- [Ã—] Firebase Console > Authentication > Sign-in method
- [Ã—] **ãƒ¡ãƒ¼ãƒ«/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰** ã‚’æœ‰åŠ¹åŒ–
- [Ã—] ãƒ¡ãƒ¼ãƒ«ãƒªãƒ³ã‚¯ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã—ï¼‰: ç„¡åŠ¹ï¼ˆPhase 1ã§ã¯ä¸ä½¿ç”¨ï¼‰
- [ ] ãã®ä»–ã®èªè¨¼æ–¹æ³•ï¼ˆGoogle, Appleï¼‰: Phase 2ã§æ¤œè¨

### 3.2 ãƒ¡ãƒ¼ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­å®š

- [Ã—] Authentication > Templates
- [Ã—] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆãƒ¡ãƒ¼ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
  - é€ä¿¡è€…å: `imane`
  - ãƒ¡ãƒ¼ãƒ«ä»¶å: `ã€imaneã€‘ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆã®ã”æ¡ˆå†…`
  - ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡: æ—¥æœ¬èªã«å¤‰æ›´

- [ ] ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ç¢ºèªãƒ¡ãƒ¼ãƒ«ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼ˆPhase 2ã§æ¤œè¨ï¼‰

### 3.3 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š

- [Ã—] è¨±å¯ã•ã‚ŒãŸãƒ‰ãƒ¡ã‚¤ãƒ³: æœ¬ç•ªãƒ‰ãƒ¡ã‚¤ãƒ³ã®ã¿è¿½åŠ 
  - ä¾‹: `imane.app`, `app.imane.app`
- [ ] ä¸æ­£ä½¿ç”¨å¯¾ç­–:
  - ãƒ¡ãƒ¼ãƒ«åˆ—æŒ™ä¿è­·ã‚’æœ‰åŠ¹åŒ–ï¼ˆæ¨å¥¨ï¼‰

---

## 4. Cloud Firestore è¨­å®š

### 4.1 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä½œæˆ

- [Ã—] Firebase Console > Firestore Database
- [Ã—] ã€Œãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œæˆã€
- [Ã—] **æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰** ã§é–‹å§‹ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã¯å¾Œã§è¨­å®šï¼‰
- [Ã—] ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³: `asia-northeast1` (Tokyo)
- [Ã—] âš ï¸ ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯å¾Œã‹ã‚‰å¤‰æ›´ã§ããªã„ã®ã§æ³¨æ„

### 4.2 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã®ãƒ‡ãƒ—ãƒ­ã‚¤

- [Ã—] Firebase CLI ã§æœ¬ç•ªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«åˆ‡ã‚Šæ›¿ãˆ:
  ```bash
  cd backend
  firebase use prod
  ```

- [Ã—] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ãƒ‡ãƒ—ãƒ­ã‚¤:
  ```bash
  firebase deploy --only firestore:rules,firestore:indexes
  ```

- [Ã—] Firebase Console > Firestore Database > ãƒ«ãƒ¼ãƒ« ã§ç¢ºèª
  - æœ€çµ‚æ›´æ–°æ—¥æ™‚ãŒæœ€æ–°ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª

### 4.3 è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ç¢ºèª

- [Ã—] Firestore Database > ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ > è¤‡åˆ
- [Ã—] ä»¥ä¸‹ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆåˆè¨ˆ17å€‹ï¼‰:

**schedules ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³** (6å€‹):
1. `user_id` (ASC) + `status` (ASC) + `start_time` (ASC)
2. `user_id` (ASC) + `status` (ASC) + `created_at` (DESC)
3. `notify_to_user_ids` (CONTAINS) + `status` (ASC) + `start_time` (ASC)
4. `status` (ASC) + `start_time` (ASC)
5. `status` (ASC) + `end_time` (ASC)
6. `status` (ASC) + `arrived_at` (ASC)

**location_history ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³** (2å€‹):
7. `user_id` (ASC) + `schedule_id` (ASC) + `recorded_at` (DESC)
8. `user_id` (ASC) + `recorded_at` (DESC)

**notification_history ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³** (3å€‹):
9. `to_user_id` (ASC) + `sent_at` (DESC)
10. `from_user_id` (ASC) + `sent_at` (DESC)
11. `schedule_id` (ASC) + `sent_at` (DESC)

**favorites ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³** (1å€‹):
12. `user_id` (ASC) + `created_at` (DESC)

**friendships ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³** (1å€‹):
13. `user_id` (ASC) + `status` (ASC) + `created_at` (DESC)

**friend_requests ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³** (2å€‹):
14. `to_user_id` (ASC) + `status` (ASC) + `created_at` (DESC)
15. `from_user_id` (ASC) + `status` (ASC) + `created_at` (DESC)

**notifications ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³** (2å€‹):
16. `user_id` (ASC) + `created_at` (DESC)
17. `user_id` (ASC) + `is_read` (ASC) + `created_at` (DESC)

**æ³¨æ„**:
- å˜ä¸€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆ`auto_delete_at`ãªã©ï¼‰ã¯è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¨ã—ã¦å®šç¾©ã›ãšã€Firestoreã®å˜ä¸€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­å®šã§ç®¡ç†ã—ã¾ã™
- `pops`ã¨`reactions`ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯å‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ®‹éª¸ã®ãŸã‚å‰Šé™¤æ¸ˆã¿

### 4.4 TTLï¼ˆè‡ªå‹•å‰Šé™¤ï¼‰è¨­å®š

âš ï¸ Firestore TTLã¯ãƒã‚¤ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ã¨ã—ã¦æä¾›ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€Cloud Functionsã§å®Ÿè£…ãŒå¿…è¦:

- [ ] Cloud Functions for Firebase ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [ ] TTLå‰Šé™¤é–¢æ•°ã‚’å®Ÿè£…ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤
- [ ] Cloud Scheduler ã§å®šæœŸå®Ÿè¡Œã‚’è¨­å®šï¼ˆ1æ™‚é–“ã”ã¨ï¼‰
- [ ] å‰Šé™¤å¯¾è±¡:
  - `location_history`: `auto_delete_at` ãŒéå»ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
  - `notification_history`: `auto_delete_at` ãŒéå»ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
  - `schedules`: `status=expired` ã‹ã¤ `end_time` ã‹ã‚‰24æ™‚é–“çµŒé

**è©³ç´°æ‰‹é †**: `backend/TTL_SETUP.md` ã‚’å‚ç…§

---

## 5. Firebase Storage è¨­å®š

### 5.1 Storage ãƒã‚±ãƒƒãƒˆã®ä½œæˆ

- [Ã—] Firebase Console > Storage
- [Ã—] ã€Œå§‹ã‚ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
- [Ã—] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«: **æœ¬ç•ªãƒ¢ãƒ¼ãƒ‰**
- [Ã—] ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³: `asia-northeast1`

### 5.2 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«ã®ãƒ‡ãƒ—ãƒ­ã‚¤

- [Ã—] Firebase CLI ã§ãƒ‡ãƒ—ãƒ­ã‚¤:
  ```bash
  firebase deploy --only storage
  ```

- [Ã—] Storage > ãƒ«ãƒ¼ãƒ« ã§ç¢ºèª
  - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ: èªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¯èƒ½
  - ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º: 5MBä»¥ä¸‹
  - ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼: ç”»åƒã®ã¿ï¼ˆimage/jpeg, image/pngï¼‰

### 5.3 CORS è¨­å®š

æœ¬ç•ªç’°å¢ƒã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã™ã‚‹ãŸã‚ã€CORSè¨­å®šãŒå¿…è¦:

- [Ã—] `storage.cors.json` ã‚’ä½œæˆ:
  ```json
  [
    {
      "origin": ["https://imane.app", "https://app.imane.app"],
      "method": ["GET", "POST", "PUT", "DELETE"],
      "maxAgeSeconds": 3600
    }
  ]
  ```

- [Ã—] gsutil ã§CORSè¨­å®šã‚’é©ç”¨:
  ```bash
  gsutil cors set storage.cors.json gs://imane-production.firebasestorage.app
  ```

---

## 6. Firebase Cloud Messaging (FCM) è¨­å®š

### 6.1 FCM ã®æœ‰åŠ¹åŒ–

- [Ã—] Firebase Console > Cloud Messaging
- [Ã—] FCM APIãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªï¼ˆè‡ªå‹•ã§æœ‰åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ã¯ãšï¼‰

### 6.2 APNs èªè¨¼ã‚­ãƒ¼ã®è¨­å®šï¼ˆiOSï¼‰

- [Ã—] Apple Developer Console ã§ APNs èªè¨¼ã‚­ãƒ¼ (.p8) ã‚’ä½œæˆ
  1. Certificates, Identifiers & Profiles > Keys
  2. ã€Œ+ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
  3. Key Name: `imane APNs Key (Production)`
  4. Apple Push Notifications service (APNs) ã«ãƒã‚§ãƒƒã‚¯
  5. Continue > Register
  6. `.p8` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
  7. **Key ID** ã‚’ãƒ¡ãƒ¢

- [Ã—] Firebase Console > ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š > Cloud Messaging
- [Ã—] iOS app configuration > APNs èªè¨¼ã‚­ãƒ¼
- [Ã—] APNs èªè¨¼ã‚­ãƒ¼ (.p8 ãƒ•ã‚¡ã‚¤ãƒ«) ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- [Ã—] Key ID ã‚’å…¥åŠ›
- [Ã—] Team ID ã‚’å…¥åŠ›ï¼ˆApple Developer Accountã‹ã‚‰ç¢ºèªï¼‰

### 6.3 é€šçŸ¥è¨­å®š

- [Ã—] ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰é€šçŸ¥ã‚’æœ‰åŠ¹åŒ–ï¼ˆæ—¢ã«Info.plistã§è¨­å®šæ¸ˆã¿ï¼‰
- [ ] é€šçŸ¥ã®å„ªå…ˆåº¦: é«˜ï¼ˆåˆ°ç€ãƒ»æ»åœ¨ãƒ»é€€å‡ºã¯å³åº§ã«é€šçŸ¥ï¼‰

---

## 7. Firebase Analytics è¨­å®š

### 7.1 Analytics ã®æœ‰åŠ¹åŒ–

- [ ] Firebase Console > Analytics
- [ ] Google Analyticsãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ãƒªãƒ³ã‚¯
- [ ] ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ : iOS ã‚¢ãƒ—ãƒªã‚’é¸æŠ

### 7.2 ã‚¤ãƒ™ãƒ³ãƒˆè¨­å®š

ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°:

- [ ] `schedule_created` - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä½œæˆ
- [ ] `favorite_added` - ãŠæ°—ã«å…¥ã‚Šè¿½åŠ 
- [ ] `notification_sent` - é€šçŸ¥é€ä¿¡ï¼ˆåˆ°ç€ãƒ»æ»åœ¨ãƒ»é€€å‡ºï¼‰
- [ ] `friend_added` - ãƒ•ãƒ¬ãƒ³ãƒ‰è¿½åŠ 

### 7.3 ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

- [ ] `user_type` - free / premium (Phase 2)
- [ ] `notification_frequency` - é€šçŸ¥é »åº¦

### 7.4 ãƒ‡ãƒ¼ã‚¿ä¿æŒæœŸé–“

- [ ] Analytics > ãƒ‡ãƒ¼ã‚¿è¨­å®š > ãƒ‡ãƒ¼ã‚¿ä¿æŒ
- [ ] ä¿æŒæœŸé–“: 14ãƒ¶æœˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã¾ãŸã¯ç„¡åˆ¶é™

---

## 8. Firebase Crashlytics è¨­å®š

### 8.1 Crashlytics ã®æœ‰åŠ¹åŒ–

- [ ] Firebase Console > Crashlytics
- [ ] ã€Œå§‹ã‚ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
- [ ] iOSã‚¢ãƒ—ãƒªãŒè‡ªå‹•æ¤œå‡ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

### 8.2 iOS ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š

æ—¢ã« `pubspec.yaml` ã§ `firebase_crashlytics` ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€è¿½åŠ è¨­å®šã¯ä¸è¦ã€‚

- [ ] Xcode ã§ Run Script ã®ç¢ºèª:
  - Build Phases > Run Script
  - `${PODS_ROOT}/FirebaseCrashlytics/run` ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª

### 8.3 ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒ¬ãƒãƒ¼ãƒˆã®ãƒ†ã‚¹ãƒˆ

- [ ] ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã‚’ç™ºç”Ÿã•ã›ã¦å‹•ä½œç¢ºèª:
  ```dart
  FirebaseCrashlytics.instance.crash();
  ```

- [ ] Firebase Console > Crashlytics ã§ãƒ¬ãƒãƒ¼ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ç¢ºèª

---

## 9. Google Maps Platform è¨­å®š

### 9.1 API ã‚­ãƒ¼ã®è¨­å®šï¼ˆå†æ²ï¼‰

ã€Œ2.3 API ã‚­ãƒ¼ã®è¨­å®šã€ã§ä½œæˆã—ãŸAPIã‚­ãƒ¼ã‚’ä½¿ç”¨ã€‚

### 9.2 iOS ã‚¢ãƒ—ãƒªã¸ã® API ã‚­ãƒ¼è¨­å®š

**æ–¹æ³•1: AppDelegate ã«ç›´æ¥è¨˜è¿°ï¼ˆæ¨å¥¨ï¼‰**

- [ ] `mobile/ios/Runner/AppDelegate.swift` ã‚’ç·¨é›†:
  ```swift
  import GoogleMaps

  GMSServices.provideAPIKey("YOUR_PRODUCTION_GOOGLE_MAPS_API_KEY")
  ```

**æ–¹æ³•2: ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦ç®¡ç†**

- [ ] `mobile/lib/core/config/api_keys.dart` ã‚’ä½œæˆ:
  ```dart
  class ApiKeys {
    static const String googleMapsApiKey = String.fromEnvironment(
      'GOOGLE_MAPS_API_KEY',
      defaultValue: 'YOUR_DEV_API_KEY',
    );
  }
  ```

- [ ] ãƒ“ãƒ«ãƒ‰æ™‚ã«æŒ‡å®š:
  ```bash
  flutter build ios --dart-define=GOOGLE_MAPS_API_KEY=YOUR_PROD_KEY
  ```

### 9.3 Maps SDK ã®ä½¿ç”¨é‡ç¢ºèª

- [ ] Google Cloud Console > APIs & Services > ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- [ ] Maps SDK for iOS ã‚’é¸æŠ
- [ ] ä½¿ç”¨é‡ã‚°ãƒ©ãƒ•ã§æ—¥æ¬¡ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ•°ã‚’ç¢ºèª

### 9.4 ã‚¯ã‚©ãƒ¼ã‚¿ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š

- [ ] Google Cloud Console > APIs & Services > ã‚¯ã‚©ãƒ¼ã‚¿
- [ ] Maps SDK for iOS ã‚’æ¤œç´¢
- [ ] ã€Œå‰²ã‚Šå½“ã¦ã‚’ç·¨é›†ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
- [ ] ä¸Šé™å€¤ã‚’è¨­å®šï¼ˆä¾‹: 10,000 requests/dayï¼‰
- [ ] ã‚¢ãƒ©ãƒ¼ãƒˆãƒ¡ãƒ¼ãƒ«é€šçŸ¥ã‚’è¨­å®š

---

## 10. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

### 10.1 Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¢ã‚¯ã‚»ã‚¹ç®¡ç†

- [ ] Firebase Console > ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š > ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨æ¨©é™
- [ ] ä¸è¦ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤
- [ ] æœ¬ç•ªç’°å¢ƒã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’æœ€å°é™ã«åˆ¶é™
- [ ] å½¹å‰²:
  - ã‚ªãƒ¼ãƒŠãƒ¼: 1åã®ã¿
  - ç·¨é›†è€…: é–‹ç™ºãƒ¡ãƒ³ãƒãƒ¼ï¼ˆå¿…è¦æœ€å°é™ï¼‰
  - é–²è¦§è€…: ãã®ä»–ã®ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼

### 10.2 ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

- [ ] Google Cloud Console > IAM ã¨ç®¡ç† > ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- [ ] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ¨©é™ã‚’ç¢ºèª
- [ ] ä¸è¦ãªæ¨©é™ã‚’å‰Šé™¤

### 10.3 API ã‚­ãƒ¼ã®ä¿è­·

- [ ] APIã‚­ãƒ¼ã®åˆ¶é™ã‚’å†ç¢ºèª:
  - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆ¶é™: iOSã‚¢ãƒ—ãƒªã®ã¿
  - APIåˆ¶é™: å¿…è¦ãªAPIã®ã¿
- [ ] APIã‚­ãƒ¼ã®å®šæœŸçš„ãªãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ¨å¥¨: 6ãƒ¶æœˆã”ã¨ï¼‰

### 10.4 Firebase Security Rules ã®å®šæœŸç›£æŸ»

- [ ] æœˆæ¬¡ã§ Firestore Security Rules ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼
- [ ] ä¸è¦ãªãƒ«ãƒ¼ãƒ«ã‚’å‰Šé™¤
- [ ] ãƒ­ã‚°ã§ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ãŒãªã„ã‹ç¢ºèª

---

## 11. èª²é‡‘ã¨ã‚¯ã‚©ãƒ¼ã‚¿è¨­å®š

### 11.1 Firebase æ–™é‡‘ãƒ—ãƒ©ãƒ³

- [ ] Firebase Console > ä½¿ç”¨é‡ã¨è«‹æ±‚é¡
- [ ] **Blaze ãƒ—ãƒ©ãƒ³ï¼ˆå¾“é‡èª²é‡‘ï¼‰** ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
  - Cloud Functions, Cloud Scheduler ã«å¿…è¦
  - ç„¡æ–™æ : https://firebase.google.com/pricing

### 11.2 äºˆç®—ã‚¢ãƒ©ãƒ¼ãƒˆã®è¨­å®š

- [ ] Google Cloud Console > ãŠæ”¯æ‰•ã„ > äºˆç®—ã¨ã‚¢ãƒ©ãƒ¼ãƒˆ
- [ ] äºˆç®—ã‚’ä½œæˆ:
  - äºˆç®—å: `imane-production-budget`
  - äºˆç®—é¡: æœˆé¡ Â¥10,000ï¼ˆä¾‹ï¼‰
  - ã‚¢ãƒ©ãƒ¼ãƒˆã—ãã„å€¤: 50%, 90%, 100%
- [ ] é€šçŸ¥å…ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¨­å®š

### 11.3 Firebase ä½¿ç”¨é‡ã®ç›£è¦–

å®šæœŸçš„ã«ç¢ºèªã™ã‚‹é …ç›®:

- [ ] **Cloud Firestore**:
  - èª­ã¿å–ã‚Š/æ›¸ãè¾¼ã¿/å‰Šé™¤ã®å›æ•°
  - ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡
  - ç„¡æ–™æ : 50,000 reads/day, 20,000 writes/day

- [ ] **Firebase Storage**:
  - ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡
  - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é‡
  - ç„¡æ–™æ : 5GB storage, 1GB/day download

- [ ] **Firebase Cloud Messaging**:
  - é€ä¿¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ•°
  - ç„¡æ–™ï¼ˆåˆ¶é™ãªã—ï¼‰

- [ ] **Cloud Functions**:
  - å®Ÿè¡Œå›æ•°
  - å®Ÿè¡Œæ™‚é–“
  - ç„¡æ–™æ : 2M invocations/month

### 11.4 Google Maps Platform æ–™é‡‘

- [ ] Maps SDK for iOS: $7.00 per 1000 requests
  - ç„¡æ–™æ : $200/month ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ
- [ ] Geocoding API: $5.00 per 1000 requests
- [ ] Places API: $2.83 - $17.00 per 1000 requestsï¼ˆæ©Ÿèƒ½ã«ã‚ˆã‚‹ï¼‰

æƒ³å®šã‚³ã‚¹ãƒˆè¨ˆç®—:
- DAU 100äºº Ã— å¹³å‡3å›åœ°å›³è¡¨ç¤º = 300 requests/day
- æœˆé–“: 300 Ã— 30 = 9,000 requests
- æ–™é‡‘: 9,000 / 1000 Ã— $7 = $63/month
- âš ï¸ ç„¡æ–™ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆ ($200/month) å†…ã«åã¾ã‚‹æƒ³å®š

---

## 12. ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã¨ã‚¢ãƒ©ãƒ¼ãƒˆ

### 12.1 Firebase Performance Monitoring

- [ ] Firebase Console > Performance
- [ ] ã€Œå§‹ã‚ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
- [ ] iOS ã‚¢ãƒ—ãƒªã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’åé›†

ç›£è¦–é …ç›®:
- [ ] ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚é–“
- [ ] ç”»é¢è¡¨ç¤ºæ™‚é–“
- [ ] ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®é…å»¶

### 12.2 Cloud Logging

- [ ] Google Cloud Console > Logging > ãƒ­ã‚°ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©
- [ ] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã®ãƒ­ã‚°ã‚’ç¢ºèª
- [ ] ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«:
  - ERROR: å³åº§ã«å¯¾å¿œãŒå¿…è¦
  - WARN: ç›£è¦–ãŒå¿…è¦
  - INFO: é€šå¸¸å‹•ä½œ

### 12.3 ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š

Cloud Monitoring ã§ã‚¢ãƒ©ãƒ¼ãƒˆãƒãƒªã‚·ãƒ¼ã‚’ä½œæˆ:

- [ ] **é«˜ã‚¨ãƒ©ãƒ¼ç‡ã‚¢ãƒ©ãƒ¼ãƒˆ**:
  - æ¡ä»¶: HTTPã‚¨ãƒ©ãƒ¼ï¼ˆ5xxï¼‰ãŒ 10 req/min ã‚’è¶…ãˆã‚‹
  - é€šçŸ¥: ãƒ¡ãƒ¼ãƒ«ã€Slackï¼ˆæ¨å¥¨ï¼‰

- [ ] **é«˜ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã‚¢ãƒ©ãƒ¼ãƒˆ**:
  - æ¡ä»¶: APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ ãŒ 3ç§’ ã‚’è¶…ãˆã‚‹
  - é€šçŸ¥: ãƒ¡ãƒ¼ãƒ«

- [ ] **FCMé€ä¿¡å¤±æ•—ã‚¢ãƒ©ãƒ¼ãƒˆ**:
  - æ¡ä»¶: FCMé€ä¿¡ã‚¨ãƒ©ãƒ¼ç‡ãŒ 5% ã‚’è¶…ãˆã‚‹
  - é€šçŸ¥: ãƒ¡ãƒ¼ãƒ«

### 12.4 ã‚¢ãƒƒãƒ—ã‚¿ã‚¤ãƒ ç›£è¦–

- [ ] Cloud Monitoring > ã‚¢ãƒƒãƒ—ã‚¿ã‚¤ãƒ  ãƒã‚§ãƒƒã‚¯
- [ ] ãƒã‚§ãƒƒã‚¯å¯¾è±¡: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
  - URL: `https://api.imane.app/health`
  - é–“éš”: 1åˆ†
  - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ: 10ç§’
- [ ] ã‚¢ãƒ©ãƒ¼ãƒˆ: 3å›é€£ç¶šå¤±æ•—ã§é€šçŸ¥

---

## 13. ãƒ‡ãƒ—ãƒ­ã‚¤å‰æœ€çµ‚ãƒã‚§ãƒƒã‚¯

### 13.1 ç’°å¢ƒå¤‰æ•°ã®ç¢ºèª

**ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰** (`backend/.env.production`):

- [ ] `ENV=production`
- [ ] `DEBUG=False`
- [ ] `FIREBASE_PROJECT_ID=imane-prod` (å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID)
- [ ] `FIREBASE_CREDENTIALS_PATH=./serviceAccountKey-prod.json`
- [ ] `SECRET_KEY` ãŒå¼·åŠ›ãªãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—
- [ ] `ENCRYPTION_KEY` ãŒå¼·åŠ›ãªãƒ©ãƒ³ãƒ€ãƒ æ–‡å­—åˆ—
- [ ] `BATCH_TOKEN` ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
- [ ] `ALLOWED_ORIGINS` ãŒæœ¬ç•ªãƒ‰ãƒ¡ã‚¤ãƒ³ã«åˆ¶é™ã•ã‚Œã¦ã„ã‚‹

**ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**:

- [ ] `GoogleService-Info-Prod.plist` ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹
- [ ] Google Maps API Key ãŒæœ¬ç•ªç”¨ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒ“ãƒ«ãƒ‰æ™‚ã« `ENVIRONMENT=production` ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹

### 13.2 Firebase ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª

- [ ] Firestore Security Rules ãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ã‚‹
- [ ] Firestore Indexes ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ï¼ˆ22å€‹ï¼‰
- [ ] Storage Security Rules ãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ã‚‹
- [ ] Cloud Functions ãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¦ã„ã‚‹ï¼ˆTTLå‰Šé™¤ç”¨ï¼‰

### 13.3 API ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ

æœ¬ç•ªç’°å¢ƒã§ä»¥ä¸‹ã‚’ãƒ†ã‚¹ãƒˆ:

- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³
- [ ] ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ä½œæˆ
- [ ] åœ°å›³è¡¨ç¤ºãƒ»å ´æ‰€æ¤œç´¢ï¼ˆGoogle Mapsï¼‰
- [ ] ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥é€ä¿¡ï¼ˆFCMï¼‰
- [ ] ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼ˆStorageï¼‰

### 13.4 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

- [ ] `ENVIRONMENT_SETUP.md` ã«æœ¬ç•ªç’°å¢ƒã®æ‰‹é †ã‚’è¿½è¨˜
- [ ] `FIREBASE_SETUP.md` ã‚’æœ€æ–°åŒ–
- [ ] ã“ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã«å®Œäº†ãƒãƒ¼ã‚¯ã‚’ã¤ã‘ã‚‹

---

## 14. ãƒªãƒªãƒ¼ã‚¹å¾Œã®é‹ç”¨

### 14.1 æ—¥æ¬¡ç›£è¦–é …ç›®

- [ ] Firebase Console > ä½¿ç”¨é‡ã¨è«‹æ±‚é¡
- [ ] Cloud Logging ã§ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‚’ç¢ºèª
- [ ] Crashlytics ã§ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒ¬ãƒãƒ¼ãƒˆã‚’ç¢ºèª
- [ ] Analytics ã§ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ã‚’ç¢ºèª

### 14.2 é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼

- [ ] APIä½¿ç”¨é‡ã®ç¢ºèªï¼ˆäºˆç®—å†…ã«åã¾ã£ã¦ã„ã‚‹ã‹ï¼‰
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æŒ‡æ¨™ã®ç¢ºèª
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®ç¢ºèª

### 14.3 æœˆæ¬¡ã‚¿ã‚¹ã‚¯

- [ ] Firebase Security Rules ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼
- [ ] ä¸è¦ãªFirestoreãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤
- [ ] ã‚³ã‚¹ãƒˆåˆ†æã¨æœ€é©åŒ–

---

## ğŸ“ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°é€£çµ¡å…ˆ

- **Firebase ã‚µãƒãƒ¼ãƒˆ**: https://firebase.google.com/support
- **Google Maps Platform ã‚µãƒãƒ¼ãƒˆ**: https://developers.google.com/maps/support
- **Google Cloud ã‚µãƒãƒ¼ãƒˆ**: https://cloud.google.com/support

---

## ğŸ“š å‚è€ƒè³‡æ–™

- [Firebase ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç†è§£ã™ã‚‹](https://firebase.google.com/docs/projects/learn-more)
- [Firestore ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«](https://firebase.google.com/docs/firestore/security/get-started)
- [Firebase Cloud Messaging](https://firebase.google.com/docs/cloud-messaging)
- [Google Maps Platform æ–™é‡‘](https://mapsplatform.google.com/pricing/)
- [Firebase æ–™é‡‘ãƒ—ãƒ©ãƒ³](https://firebase.google.com/pricing)

---

**æœ€çµ‚æ›´æ–°æ—¥**: 2025-11-13
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
